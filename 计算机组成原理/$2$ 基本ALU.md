# #加法器

串行加法器：进位逐级产生，必须先计算低位再计算高位
并行加法器：进位同时产生

## 加法器的接口
- 两个n位的数据输入
- 进位输入
- 进位输出
- OF：溢出标志(带符号数)
	OF=C_n异或C_n-1
- SF：符号标志(带符号数)
	SF=S_n
- ZF：零标志
	S_1 + S_2 + …… + S_n再取反
- CF：进位标志(无符号数)
	C_in 异或 C_out

# #算数逻辑单元ALU

ALU是组合逻辑电路，
运算器的核心（运算器=ALU+各种寄存器）
它的核心是加法器

## ALU的接口
- 输入接口组1
- 输入接口组2
- 输出接口组
- Cin
- Cout
- 控制接口组
	控制接口组的位数与ALU的功能有关
	通常ALU会有以下基本功能：
		加减乘除 位移
		与或非
		取补码、直送
	功能的选择（控制接口组）最简单的实现方式是选择器
- OF
- SF
- ZF
- CF
OF/SF/ZF/CF在产生之后会被送入**程序状态字寄存器PSW**或**标志寄存器FR**。它们也是ALU的一部分

计算机的机器字长=输入输出接口的位数

---
# #定点数的移位运算

逻辑左移
逻辑右移
算术左移
算术右移

逻辑左移和算术左移对于计算机来说是一样的操作，==只是在判断是否溢出时不同==

# #定点数的加减运算

溢出判断
双符号位补码称为模4补码
单符号位补码称为模2补码

---
# #无符号整数的乘法的硬件实现

**手算实现**：遇到1错位相加，遇到0位数+1

![[Pasted image 20250805200243.png]]
C_n中n就是乘法器的位数

开始时，乘数和被乘数分别被放倒Y和X，并且把P置为0，C_n=位数

#### 溢出
- 计算完成后，默认也只保存4位，通过判断P的值是否全为零来判断
- 溢出处理可以是不处理，也可以抛出异常（操作系统层级）

# #有符号整数的乘法的硬件实现

  ![[Pasted image 20250809213326.png]]
开始时，辅助位是0

在很多计算机架构中，只会保留后4位（即只保留与机器位数相同的低位），因而可能发生溢出
这样的计算机会通过检测==高**n+1**位== 是否全为0/1，如果不全为0/1，那么说明发生溢出


**对于乘法运算，不管是无符号还是有符号，都用OF记录是否溢出，但是无符号乘法在溢出时，CF也会从0->1，但程序员通常不使用。因此，CF仅仅用来判断==无符号加减法==是否溢出**

# #计算机实现乘法的方式

- 用**硬件实现**乘法(ALU+移位器+寄存器+控制逻辑)
	- 改进方法：改进为两位两位成
- **阵列乘法器**：可以在一个时钟内完成乘法运算
	- ![[Pasted image 20250819154646.png]]
	- 阵列乘法器是**快速乘法器**的一种，大多数快速乘法器都可以在==一个时钟周期内==完成乘法运算
- 用**逻辑运算+加减运算+位移运算**模拟硬件实现乘法

# #无符号整数的除法运算原理

#### 重点： 开始状态、#结束状态、#除法异常
## 手算方法
![[Pasted image 20250819160725.png]]
## 除法电路的基本结构、基本原理

### 除法电路
- 余数寄存器R(n bit)
- 余数/商寄存器Q(n bit)
- 除数寄存器Y(n bit)
- n bit ALU
可支持2n bit 除以 n bit
- 2n bit 除以 n bit是**双精度除法**；n bit除以n bit是**单精度除法**。
- **双精度除法可能发生商溢出，单精度除法不可能商溢出**
### 1.初始化
- 除数放到**除数寄存器**
- 被除数放到**余数寄存器R+余数/商寄存器Q(n bit)** 共2n bit，如果不足前面补0
**特殊情况检查：**
- 除数为零：停止除法运算，操作系统开始进行异常处理程序
- 被除数<余数：商=0，余数=被除数
### 2.计算中
- **余数寄存器>除数寄存器** ->余数-除数 ->余数寄存器+余数/商寄存器左移一位->多出来的那一位=1->控制逻辑寄存器-1
- **余数寄存器<除数寄存器** ->什么也不做->余数寄存器+余数/商寄存器左移一位->多出来的那一位=0->控制逻辑寄存器-1

第一次计算时，如果**余数寄存器>除数寄存器**，那么==商的第一位=1，同时也会发生**商溢出**==
### 3.结束
余数寄存器->余数
余数/商寄存器->商
如果是取模（%)，那就返回余数；如果是除（/)那就取回商

![[Pasted image 20250819163516.png]]

## 除法(错)异常：“除数为0”异常、“商溢出”异常

---
# #IEEE754浮点数标准

指数为0111111111111111111111说明是2^0

---
# #数据的存储与排列

- 大端模式和小端模式
- 边界对齐（空间换时间）

